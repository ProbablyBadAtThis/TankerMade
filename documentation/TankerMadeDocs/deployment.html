<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deployment Guide - TankerMade Workbench Documentation</title>
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #64748b;
            --bg-color: #ffffff;
            --text-color: #1e293b;
            --border-color: #e2e8f0;
            --code-bg: #f1f5f9;
            --hover-color: #f8fafc;
            --success-color: #22c55e;
            --warning-color: #f59e0b;
            --error-color: #ef4444;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-color);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            background: var(--primary-color);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        nav {
            background: var(--hover-color);
            border-bottom: 1px solid var(--border-color);
            padding: 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .nav-menu {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
            overflow-x: auto;
        }
        
        .nav-menu li {
            white-space: nowrap;
        }
        
        .nav-menu a {
            display: block;
            padding: 1rem 1.5rem;
            text-decoration: none;
            color: var(--text-color);
            border-bottom: 3px solid transparent;
            transition: all 0.2s;
        }
        
        .nav-menu a:hover {
            background: var(--primary-color);
            color: white;
        }
        
        .nav-menu a.active {
            background: var(--primary-color);
            color: white;
            border-bottom-color: #1d4ed8;
        }
        
        main {
            padding: 2rem 0;
            min-height: calc(100vh - 200px);
        }
        
        .content {
            max-width: 900px;
        }
        
        h1 {
            color: var(--primary-color);
            margin-bottom: 2rem;
            font-size: 2.5rem;
            border-bottom: 3px solid var(--primary-color);
            padding-bottom: 0.5rem;
        }
        
        h2 {
            color: var(--primary-color);
            margin: 2rem 0 1rem 0;
            font-size: 1.8rem;
            border-left: 4px solid var(--primary-color);
            padding-left: 1rem;
        }
        
        h3 {
            color: var(--secondary-color);
            margin: 1.5rem 0 1rem 0;
            font-size: 1.3rem;
        }
        
        h4 {
            color: var(--secondary-color);
            margin: 1rem 0 0.5rem 0;
            font-size: 1.1rem;
        }
        
        p {
            margin-bottom: 1rem;
        }
        
        ul, ol {
            margin-left: 2rem;
            margin-bottom: 1rem;
        }
        
        li {
            margin-bottom: 0.5rem;
        }
        
        code {
            background: var(--code-bg);
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
        }
        
        pre {
            background: var(--code-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 1rem;
            overflow-x: auto;
            margin: 1rem 0;
            width: 100%;
            max-width: 100%;
        }
        
        pre code {
            background: none;
            padding: 0;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            border: 1px solid var(--border-color);
        }
        
        th, td {
            border: 1px solid var(--border-color);
            padding: 0.75rem;
            text-align: left;
        }
        
        th {
            background: var(--code-bg);
            font-weight: bold;
        }
        
        tr:nth-child(even) {
            background: #f9fafb;
        }
        
        .card {
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .highlight {
            background: #fef3c7;
            border-left: 4px solid var(--warning-color);
            padding: 1rem;
            margin: 1rem 0;
        }
        
        .success {
            background: #dcfce7;
            border-left: 4px solid var(--success-color);
            padding: 1rem;
            margin: 1rem 0;
        }
        
        .warning {
            background: #fef3c7;
            border-left: 4px solid var(--warning-color);
            padding: 1rem;
            margin: 1rem 0;
        }
        
        .error {
            background: #fee2e2;
            border-left: 4px solid var(--error-color);
            padding: 1rem;
            margin: 1rem 0;
        }
        
        footer {
            background: var(--code-bg);
            border-top: 1px solid var(--border-color);
            padding: 2rem 0;
            margin-top: 3rem;
            text-align: center;
            color: var(--secondary-color);
        }
        
        /* Deployment option cards */
        .deployment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .deployment-card {
            background: white;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 2rem;
            transition: all 0.3s;
            position: relative;
        }
        
        .deployment-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border-color: var(--primary-color);
        }
        
        .deployment-icon {
            font-size: 3rem;
            text-align: center;
            margin-bottom: 1rem;
        }
        
        .deployment-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 1rem;
        }
        
        .deployment-description {
            text-align: center;
            color: var(--secondary-color);
            margin-bottom: 1.5rem;
        }
        
        .deployment-specs {
            font-size: 0.9rem;
            background: var(--hover-color);
            padding: 1rem;
            border-radius: 6px;
            margin-bottom: 1rem;
        }
        
        .deployment-cost {
            background: var(--primary-color);
            color: white;
            padding: 0.5rem;
            border-radius: 6px;
            text-align: center;
            font-weight: bold;
        }
        
        .recommended-badge {
            position: absolute;
            top: -0.5rem;
            right: -0.5rem;
            background: var(--success-color);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .step-number {
            background: var(--primary-color);
            color: white;
            width: 1.5rem;
            height: 1.5rem;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.8rem;
            margin-right: 0.5rem;
        }
        
        .env-var {
            background: var(--code-bg);
            padding: 0.5rem;
            border-radius: 4px;
            margin: 0.5rem 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.85rem;
        }
        
        @media (max-width: 768px) {
            .nav-menu {
                flex-direction: column;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .container {
                padding: 0 15px;
            }
            
            .deployment-grid {
                grid-template-columns: 1fr;
            }
            
            pre {
                padding: 0.75rem;
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">🧶 TankerMade Workbench</div>
                <div>Comprehensive Documentation</div>
            </div>
        </div>
    </header>
    
    <nav>
        <div class="container">
            <ul class="nav-menu">
                <li><a href="index.html">Overview</a></li>
                <li><a href="architecture.html">Architecture</a></li>
                <li><a href="domain-model.html">Domain Model</a></li>
                <li><a href="implementation-phases.html">Implementation</a></li>
                <li><a href="technical-specs.html">Technical Specs</a></li>
                <li><a href="ui-ux-specs.html">UI/UX Specs</a></li>
                <li><a href="deployment.html" class="active">Deployment</a></li>
                <li><a href="development-guidelines.html">Development</a></li>
            </ul>
        </div>
    </nav>
    
    <main>
        <div class="container">
            <div class="content">
                <h1>Deployment Guide</h1>

                <div class="highlight">
                    <h3>Deployment Strategy</h3>
                    <p>TankerMade Workbench supports multiple deployment scenarios from local development to cloud hosting, with both offline-first and server modes available.</p>
                </div>

                <h2>Deployment Options</h2>

                <div class="deployment-grid">
                    <div class="deployment-card">
                        <div class="recommended-badge">Recommended</div>
                        <div class="deployment-icon">💻</div>
                        <div class="deployment-title">Self-Hosted</div>
                        <div class="deployment-description">Run on your own computer or server</div>
                        <div class="deployment-specs">
                            <strong>Requirements:</strong><br>
                            • .NET 8 Runtime<br>
                            • 2GB RAM<br>
                            • 10GB Storage<br>
                            • Windows/Linux/macOS
                        </div>
                        <div class="deployment-cost">FREE</div>
                    </div>

                    <div class="deployment-card">
                        <div class="deployment-icon">🐳</div>
                        <div class="deployment-title">Docker</div>
                        <div class="deployment-description">Containerized deployment anywhere</div>
                        <div class="deployment-specs">
                            <strong>Requirements:</strong><br>
                            • Docker installed<br>
                            • 2GB RAM<br>
                            • 10GB Storage<br>
                            • Any Docker host
                        </div>
                        <div class="deployment-cost">FREE (+ hosting)</div>
                    </div>

                    <div class="deployment-card">
                        <div class="deployment-icon">☁️</div>
                        <div class="deployment-title">DigitalOcean</div>
                        <div class="deployment-description">Cloud VPS hosting</div>
                        <div class="deployment-specs">
                            <strong>Droplet:</strong><br>
                            • 2 vCPU, 2GB RAM<br>
                            • 50GB SSD<br>
                            • Ubuntu 22.04<br>
                            • Docker pre-installed
                        </div>
                        <div class="deployment-cost">$12/month</div>
                    </div>

                    <div class="deployment-card">
                        <div class="deployment-icon">🚀</div>
                        <div class="deployment-title">Azure App Service</div>
                        <div class="deployment-description">Microsoft managed hosting</div>
                        <div class="deployment-specs">
                            <strong>App Service:</strong><br>
                            • B1 Basic plan<br>
                            • 1 core, 1.75GB RAM<br>
                            • Auto-scaling<br>
                            • Built-in SSL
                        </div>
                        <div class="deployment-cost">$13/month</div>
                    </div>

                    <div class="deployment-card">
                        <div class="deployment-icon">🌐</div>
                        <div class="deployment-title">Static Hosting</div>
                        <div class="deployment-description">Client-only (offline mode)</div>
                        <div class="deployment-specs">
                            <strong>Features:</strong><br>
                            • Blazor WASM only<br>
                            • IndexedDB storage<br>
                            • No server required<br>
                            • CDN distribution
                        </div>
                        <div class="deployment-cost">FREE - $5/month</div>
                    </div>
                </div>

                <h2>Self-Hosted Deployment (Recommended)</h2>

                <div class="card">
                    <h3>Quick Start Instructions</h3>
                    
                    <h4><span class="step-number">1</span>Download Release</h4>
                    <p>Download the latest release from GitHub:</p>
                    <pre><code># Download and extract
wget https://github.com/yourusername/tankermade/releases/latest/download/TankerMade-v1.0.0.zip
unzip TankerMade-v1.0.0.zip -d /opt/tankermade
cd /opt/tankermade</code></pre>

                    <h4><span class="step-number">2</span>Configure Application</h4>
                    <p>Edit the <code>appsettings.json</code> file:</p>
                    <pre><code>{
  "ConnectionStrings": {
    "DefaultConnection": "Data Source=tankermade.db"
  },
  "JwtSettings": {
    "Key": "your-super-secret-jwt-key-change-this-in-production",
    "Issuer": "TankerMade",
    "Audience": "TankerMade-Users",
    "ExpiryMinutes": 60
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*"
}</code></pre>

                    <h4><span class="step-number">3</span>Run Application</h4>
                    <pre><code># Make executable (Linux/macOS)
chmod +x TankerMade.Server

# Run the application
./TankerMade.Server

# Or using dotnet directly
dotnet TankerMade.Server.dll</code></pre>

                    <h4><span class="step-number">4</span>Access Application</h4>
                    <p>Open your browser to <code>http://localhost:5000</code> and create your admin account on first run.</p>
                </div>

                <h3>Environment Variables</h3>
                <div class="card">
                    <p>You can configure the application using environment variables instead of editing <code>appsettings.json</code>:</p>

                    <div class="env-var">DATABASE_URL=Data Source=/data/tankermade.db</div>
                    <div class="env-var">JWT_KEY=your-super-secret-jwt-key</div>
                    <div class="env-var">JWT_ISSUER=TankerMade</div>
                    <div class="env-var">JWT_AUDIENCE=TankerMade-Users</div>
                    <div class="env-var">JWT_EXPIRY_MINUTES=60</div>
                    <div class="env-var">ASPNETCORE_URLS=http://*:5000</div>
                    <div class="env-var">ASPNETCORE_ENVIRONMENT=Production</div>
                </div>

                <h2>Docker Deployment</h2>

                <div class="card">
                    <h3>Using Docker Compose (Recommended)</h3>
                    
                    <h4>Create docker-compose.yml</h4>
                    <pre><code>version: '3.8'

services:
  tankermade:
    image: tankermade/workbench:latest
    container_name: tankermade-workbench
    ports:
      - "5000:8080"
    environment:
      - DATABASE_URL=Data Source=/data/tankermade.db
      - JWT_KEY=your-super-secret-jwt-key-change-this-in-production
      - JWT_ISSUER=TankerMade
      - JWT_AUDIENCE=TankerMade-Users
      - ASPNETCORE_ENVIRONMENT=Production
    volumes:
      - tankermade-data:/data
      - tankermade-uploads:/app/wwwroot/uploads
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8080/health"]
      interval: 30s
      timeout: 10s
      retries: 3

volumes:
  tankermade-data:
  tankermade-uploads:</code></pre>

                    <h4>Deploy with Docker Compose</h4>
                    <pre><code># Start the application
docker-compose up -d

# View logs
docker-compose logs -f tankermade

# Stop the application
docker-compose down</code></pre>
                </div>

                <div class="card">
                    <h3>Using Docker Run</h3>
                    <pre><code># Create volumes
docker volume create tankermade-data
docker volume create tankermade-uploads

# Run container
docker run -d \
  --name tankermade-workbench \
  -p 5000:8080 \
  -e DATABASE_URL="Data Source=/data/tankermade.db" \
  -e JWT_KEY="your-super-secret-jwt-key" \
  -e ASPNETCORE_ENVIRONMENT="Production" \
  -v tankermade-data:/data \
  -v tankermade-uploads:/app/wwwroot/uploads \
  --restart unless-stopped \
  tankermade/workbench:latest</code></pre>
                </div>

                <h3>Building Custom Docker Image</h3>
                <div class="card">
                    <h4>Dockerfile</h4>
                    <pre><code># Build stage
FROM mcr.microsoft.com/dotnet/sdk:8.0 AS build-env
WORKDIR /app

# Copy project files
COPY *.sln .
COPY TankerMade.Core/*.csproj ./TankerMade.Core/
COPY TankerMade.Contracts/*.csproj ./TankerMade.Contracts/
COPY TankerMade.Client/*.csproj ./TankerMade.Client/
COPY TankerMade.Server/*.csproj ./TankerMade.Server/

# Restore dependencies
RUN dotnet restore

# Copy everything else
COPY . .

# Build and publish
RUN dotnet publish TankerMade.Server -c Release -o out

# Runtime stage
FROM mcr.microsoft.com/dotnet/aspnet:8.0
WORKDIR /app
COPY --from=build-env /app/out .

# Create data directory
RUN mkdir -p /data && chown app:app /data
USER app

EXPOSE 8080
ENV ASPNETCORE_URLS=http://*:8080

ENTRYPOINT ["dotnet", "TankerMade.Server.dll"]</code></pre>

                    <h4>Build and Run</h4>
                    <pre><code># Build image
docker build -t tankermade-workbench .

# Run container
docker run -d \
  --name tankermade \
  -p 5000:8080 \
  -v tankermade-data:/data \
  tankermade-workbench</code></pre>
                </div>

                <h2>DigitalOcean Deployment</h2>

                <div class="card">
                    <h3>Droplet Setup</h3>
                    
                    <h4><span class="step-number">1</span>Create Droplet</h4>
                    <ul>
                        <li>Choose Ubuntu 22.04 LTS</li>
                        <li>Select "Docker" from Marketplace</li>
                        <li>Choose Basic plan: $12/month (2 vCPU, 2GB RAM, 50GB SSD)</li>
                        <li>Add your SSH key</li>
                        <li>Create droplet</li>
                    </ul>

                    <h4><span class="step-number">2</span>Connect and Setup</h4>
                    <pre><code># SSH to your droplet
ssh root@your-droplet-ip

# Update system
apt update && apt upgrade -y

# Install docker-compose
curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
chmod +x /usr/local/bin/docker-compose</code></pre>

                    <h4><span class="step-number">3</span>Deploy Application</h4>
                    <pre><code># Create application directory
mkdir -p /opt/tankermade
cd /opt/tankermade

# Create docker-compose.yml (use the example above)
nano docker-compose.yml

# Start application
docker-compose up -d

# Setup firewall
ufw allow OpenSSH
ufw allow 5000
ufw enable</code></pre>

                    <h4><span class="step-number">4</span>Setup Domain (Optional)</h4>
                    <pre><code># Install nginx
apt install nginx -y

# Create nginx config
cat > /etc/nginx/sites-available/tankermade << 'EOF'
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://localhost:5000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection keep-alive;
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
EOF

# Enable site
ln -s /etc/nginx/sites-available/tankermade /etc/nginx/sites-enabled/
nginx -t
systemctl reload nginx

# Install SSL with Let's Encrypt
snap install core; snap refresh core
snap install --classic certbot
ln -s /snap/bin/certbot /usr/bin/certbot
certbot --nginx -d your-domain.com</code></pre>
                </div>

                <h2>Azure App Service Deployment</h2>

                <div class="card">
                    <h3>Using Azure CLI</h3>

                    <h4><span class="step-number">1</span>Install Azure CLI</h4>
                    <pre><code># Install Azure CLI
curl -sL https://aka.ms/InstallAzureCLIDeb | sudo bash

# Login to Azure
az login</code></pre>

                    <h4><span class="step-number">2</span>Create Resources</h4>
                    <pre><code># Create resource group
az group create --name tankermade-rg --location eastus

# Create App Service plan
az appservice plan create \
  --name tankermade-plan \
  --resource-group tankermade-rg \
  --sku B1 \
  --is-linux

# Create web app
az webapp create \
  --resource-group tankermade-rg \
  --plan tankermade-plan \
  --name tankermade-workbench \
  --runtime "DOTNET|8.0"</code></pre>

                    <h4><span class="step-number">3</span>Configure Application Settings</h4>
                    <pre><code># Set environment variables
az webapp config appsettings set \
  --resource-group tankermade-rg \
  --name tankermade-workbench \
  --settings \
    DATABASE_URL="Data Source=/tmp/tankermade.db" \
    JWT_KEY="your-super-secret-jwt-key-change-this" \
    JWT_ISSUER="TankerMade" \
    JWT_AUDIENCE="TankerMade-Users" \
    ASPNETCORE_ENVIRONMENT="Production"</code></pre>

                    <h4><span class="step-number">4</span>Deploy Code</h4>
                    <pre><code># Build and publish locally
dotnet publish TankerMade.Server -c Release -o ./publish

# Create deployment package
cd publish
zip -r ../deploy.zip .
cd ..

# Deploy to Azure
az webapp deploy \
  --resource-group tankermade-rg \
  --name tankermade-workbench \
  --src-path deploy.zip</code></pre>
                </div>

                <div class="card">
                    <h3>Using GitHub Actions</h3>
                    <pre><code># .github/workflows/azure-deploy.yml
name: Deploy to Azure

on:
  push:
    branches: [ main ]

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4

    - name: Setup .NET
      uses: actions/setup-dotnet@v3
      with:
        dotnet-version: '8.0'

    - name: Restore dependencies
      run: dotnet restore

    - name: Build
      run: dotnet build --no-restore

    - name: Test
      run: dotnet test --no-build --verbosity normal

    - name: Publish
      run: dotnet publish TankerMade.Server -c Release -o ./publish

    - name: Deploy to Azure Web App
      uses: azure/webapps-deploy@v2
      with:
        app-name: 'tankermade-workbench'
        publish-profile: ${{ secrets.AZURE_WEBAPP_PUBLISH_PROFILE }}
        package: ./publish</code></pre>
                </div>

                <h2>Static Hosting (Offline Mode Only)</h2>

                <div class="card">
                    <h3>GitHub Pages Deployment</h3>

                    <h4><span class="step-number">1</span>Prepare Client</h4>
                    <pre><code># Build Blazor WASM for static hosting
dotnet publish TankerMade.Client -c Release

# Copy to docs/ folder for GitHub Pages
cp -r TankerMade.Client/bin/Release/net8.0/publish/wwwroot/* docs/</code></pre>

                    <h4><span class="step-number">2</span>Configure Base Path</h4>
                    <p>Update <code>TankerMade.Client/wwwroot/index.html</code>:</p>
                    <pre><code>&lt;!-- Change base href for GitHub Pages --&gt;
&lt;base href="/tankermade-workbench/" /&gt;</code></pre>

                    <h4><span class="step-number">3</span>Enable GitHub Pages</h4>
                    <ul>
                        <li>Go to repository Settings → Pages</li>
                        <li>Select "Deploy from a branch"</li>
                        <li>Choose "main" branch and "/docs" folder</li>
                        <li>Save settings</li>
                    </ul>
                </div>

                <div class="card">
                    <h3>Netlify Deployment</h3>

                    <h4>netlify.toml</h4>
                    <pre><code>[build]
  command = "dotnet publish TankerMade.Client -c Release"
  publish = "TankerMade.Client/bin/Release/net8.0/publish/wwwroot"

[build.environment]
  DOTNET_VERSION = "8.0"

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200</code></pre>
                </div>

                <h2>Environment Configuration</h2>

                <h3>Development Environment</h3>
                <div class="card">
                    <h4>appsettings.Development.json</h4>
                    <pre><code>{
  "ConnectionStrings": {
    "DefaultConnection": "Data Source=tankermade-dev.db"
  },
  "JwtSettings": {
    "Key": "development-key-not-for-production",
    "ExpiryMinutes": 1440
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Information"
    }
  }
}</code></pre>
                </div>

                <h3>Production Environment</h3>
                <div class="card">
                    <h4>appsettings.Production.json</h4>
                    <pre><code>{
  "ConnectionStrings": {
    "DefaultConnection": "Data Source=/data/tankermade.db"
  },
  "JwtSettings": {
    "Key": "${JWT_KEY}",
    "Issuer": "${JWT_ISSUER}",
    "Audience": "${JWT_AUDIENCE}",
    "ExpiryMinutes": 60
  },
  "Logging": {
    "LogLevel": {
      "Default": "Warning",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*"
}</code></pre>
                </div>

                <h2>Database Configuration</h2>

                <h3>SQLite (Default)</h3>
                <div class="card">
                    <p>Best for single-user or small team scenarios:</p>
                    <pre><code>"ConnectionStrings": {
  "DefaultConnection": "Data Source=tankermade.db"
}</code></pre>
                </div>

                <h3>PostgreSQL (Production)</h3>
                <div class="card">
                    <p>Recommended for multi-user production environments:</p>
                    <pre><code># Install PostgreSQL
sudo apt install postgresql postgresql-contrib

# Create database
sudo -u postgres createdb tankermade
sudo -u postgres createuser --interactive tankermadeuser

# Connection string
"ConnectionStrings": {
  "DefaultConnection": "Host=localhost;Database=tankermade;Username=tankermadeuser;Password=yourpassword"
}</code></pre>
                </div>

                <h3>SQL Server (Enterprise)</h3>
                <div class="card">
                    <p>For enterprise Windows environments:</p>
                    <pre><code>"ConnectionStrings": {
  "DefaultConnection": "Server=localhost;Database=TankerMade;Trusted_Connection=true;TrustServerCertificate=true"
}</code></pre>
                </div>

                <h2>Backup and Maintenance</h2>

                <h3>Automated Backups</h3>
                <div class="card">
                    <h4>SQLite Backup Script</h4>
                    <pre><code>#!/bin/bash
# backup-tankermade.sh

DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_DIR="/opt/tankermade/backups"
DB_PATH="/opt/tankermade/tankermade.db"

mkdir -p $BACKUP_DIR

# Create backup
sqlite3 $DB_PATH ".backup $BACKUP_DIR/tankermade_$DATE.db"

# Compress backup
gzip "$BACKUP_DIR/tankermade_$DATE.db"

# Keep only last 30 backups
find $BACKUP_DIR -name "tankermade_*.db.gz" -mtime +30 -delete

echo "Backup completed: tankermade_$DATE.db.gz"</code></pre>

                    <h4>Schedule with Cron</h4>
                    <pre><code># Edit crontab
crontab -e

# Add daily backup at 2 AM
0 2 * * * /opt/tankermade/backup-tankermade.sh</code></pre>
                </div>

                <h3>Docker Backup</h3>
                <div class="card">
                    <pre><code># Backup Docker volumes
docker run --rm \
  -v tankermade-data:/data \
  -v $(pwd):/backup \
  alpine tar czf /backup/tankermade-backup-$(date +%Y%m%d).tar.gz /data

# Restore Docker volumes
docker run --rm \
  -v tankermade-data:/data \
  -v $(pwd):/backup \
  alpine tar xzf /backup/tankermade-backup-20241008.tar.gz -C /</code></pre>
                </div>

                <h2>Monitoring and Health Checks</h2>

                <div class="card">
                    <h3>Health Check Endpoint</h3>
                    <p>The application includes a health check endpoint at <code>/health</code>:</p>
                    <pre><code># Check application health
curl http://localhost:5000/health

# Response
{
  "status": "Healthy",
  "checks": {
    "database": "Healthy",
    "storage": "Healthy"
  },
  "duration": "00:00:00.0123456"
}</code></pre>
                </div>

                <div class="card">
                    <h3>Simple Monitoring Script</h3>
                    <pre><code>#!/bin/bash
# monitor-tankermade.sh

HEALTH_URL="http://localhost:5000/health"
LOG_FILE="/var/log/tankermade-monitor.log"

response=$(curl -s -o /dev/null -w "%{http_code}" $HEALTH_URL)

if [ $response -eq 200 ]; then
    echo "$(date): Application is healthy" >> $LOG_FILE
else
    echo "$(date): Application is unhealthy (HTTP $response)" >> $LOG_FILE
    # Restart application
    docker-compose -f /opt/tankermade/docker-compose.yml restart tankermade
fi</code></pre>
                </div>

                <h2>Security Considerations</h2>

                <div class="warning">
                    <h3>⚠️ Production Security Checklist</h3>
                    <ul>
                        <li><strong>Change Default JWT Key:</strong> Generate a secure random key</li>
                        <li><strong>Use HTTPS:</strong> Install SSL certificate (Let's Encrypt recommended)</li>
                        <li><strong>Firewall:</strong> Only expose necessary ports (80, 443)</li>
                        <li><strong>Regular Updates:</strong> Keep OS and application updated</li>
                        <li><strong>Backup Encryption:</strong> Encrypt backup files</li>
                        <li><strong>Access Logs:</strong> Monitor access patterns</li>
                        <li><strong>Strong Passwords:</strong> Enforce password policies</li>
                        <li><strong>Rate Limiting:</strong> Implement API rate limiting</li>
                    </ul>
                </div>

                <h2>Troubleshooting</h2>

                <div class="card">
                    <h3>Common Issues</h3>
                    
                    <h4>Application Won't Start</h4>
                    <ul>
                        <li>Check .NET 8 runtime is installed</li>
                        <li>Verify appsettings.json syntax</li>
                        <li>Check file permissions</li>
                        <li>Review logs in console or docker logs</li>
                    </ul>

                    <h4>Database Connection Errors</h4>
                    <ul>
                        <li>Verify connection string</li>
                        <li>Check database file permissions (SQLite)</li>
                        <li>Ensure PostgreSQL service is running</li>
                        <li>Test connection manually</li>
                    </ul>

                    <h4>Docker Issues</h4>
                    <pre><code># View container logs
docker logs tankermade-workbench

# Exec into container
docker exec -it tankermade-workbench /bin/bash

# Check container status
docker ps -a</code></pre>
                </div>

                <div class="success">
                    <h3>🚀 Deployment Complete!</h3>
                    <p>Your TankerMade Workbench is now deployed and ready for use. Remember to create your admin account on first access and configure your preferences in the settings.</p>
                </div>
            </div>
        </div>
    </main>
    
    <footer>
        <div class="container">
            <p>&copy; 2025 TankerMade Workbench Documentation. Generated from project specification.</p>
        </div>
    </footer>
</body>
</html>
